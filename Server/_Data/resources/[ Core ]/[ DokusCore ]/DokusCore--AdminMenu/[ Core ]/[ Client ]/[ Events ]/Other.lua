--------------------------------------------------------------------------------
---------------------------------- DokusCore -----------------------------------
--------------------------------------------------------------------------------
----------------------- I feel a disturbance in the force ----------------------
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
RegisterNUICallback('TPM', function()
  SendNUIMessage({type = "close"})
  TriggerEvent('DokusCore:Core:Admin:Commands:TPM')
end)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
RegisterNUICallback('directMessage', function(Data)
    Data.staff = GetPlayerName(PlayerId())
    if (Data.player == GetPlayerServerId(PlayerId())) then
      NoteObjective(("DM from " .. Data.staff), Data.data, 'Horn', 15000)
    end
end)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
RegisterNUICallback('coords', function(data, cb)
  local PedID = PedID()
  local Veh = GetVehiclePedIsIn(PedID, false)
  local Mount = GetMount(PedID)
  local User = (Veh == 0 and (Mount == 0 and PedID or Mount) or Veh)
  local Coords = GetCoords(User)
  local Head = GetEntityHeading(User)
  print('Coords = ' .. Coords, 'Heading = ' .. Head)
  NoteObjective('System', 'Coords are posted in your client console!', 'Horn', 10000)
end)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
RegisterNUICallback('dv', function(data, cb)
  local Deleted  = false
  local Horse    = GetMount(_id)
  local Coach    = GetVehiclePedIsIn(_id)

  if type(Horse) == "number" and Horse ~= 0 then
    Deleted = true
    DeletePed(Horse)
  end

  if type(Coach) == "number" and Coach ~= 0 then
    Deleted = true
    SetEntityAsMissionEntity(Coach, true, true)
    DeleteVehicle(Coach)
  end

  if (not (Deleted)) then
    NoteObjective('System', "You're not sitting on a horse or a stagecoach, unable to delete", 'Horn', 5000)
  else
    TriggerEvent('DokusCore:SafeGuard:Anti:AdminAbuse', 'DeleteVehicle')
  end

end)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
local IsGhosting = false
RegisterNUICallback('ghost', function(data, cb)
  IsGhosting = not IsGhosting
    SetEntityVisible(PedID(), not IsGhosting, false)
end)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
