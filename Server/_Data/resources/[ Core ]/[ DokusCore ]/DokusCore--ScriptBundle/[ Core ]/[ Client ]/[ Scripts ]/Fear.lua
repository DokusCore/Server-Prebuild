--------------------------------------------------------------------------------
----------------------------------- DevDokus -----------------------------------
--------------------------------------------------------------------------------
----------------------- I feel a disturbance in the force ----------------------
--------------------------------------------------------------------------------
local InAni = false
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
CreateThread(function()
  if (_Modules.ScriptBundle.Fear) then
    while (not (FrameReady())) do Wait(1000) end
    while (not (UserInGame())) do Wait(1000) end
    TriggerEvent('chat:addSuggestion', '/fear', MSG("ShowFear").MSG, {})
  end
end)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
CreateThread(function()
  if (_Modules.ScriptBundle.Fear) then
    while (not (FrameReady())) do Wait(1000) end
    while (not (UserInGame())) do Wait(1000) end
    RegisterCommand('fear', function()
      local PedID = PedID()
      if (not (InAni)) then return StartAni(PedID) end
      if (InAni) then return EndAni(PedID) end
    end)
  end
end)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
function StartAni(PedID)
  local Hash = GetHashKey('WORLD_HUMAN_FLEE')
  ClearPedTasks(PedID)
  TaskStartScenarioInPlace(PedID, Hash, -1, true, false, false, false)
  InAni = true
  TriggerEvent('DokusCore:ScareAni:Stop')
end
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
function EndAni(PedID)
  InAni = false
  ClearPedTasks(PedID)
end
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
RegisterNetEvent('DokusCore:ScareAni:Stop', function()
  local PedID = PedID()
  while (InAni) do Wait(1)
    local Back = IsControlJustPressed(0, _Keys.BACKSPACE)
    local X = IsControlJustPressed(0, _Keys.X)
    if (((Back) or (X)) and (InAni)) then EndAni(PedID) end
  end
end)
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------



























































--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
